@echo off
chcp 65001 > nul
echo.
echo ========================================
echo ๐ฅ ูุธุงู ุฅุฏุงุฑุฉ ุงููุณุชุดูู
echo ========================================
echo ๐ ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุงููุฉ
echo ========================================
echo.

echo ๐ ุงูุงูุชูุงู ููุฌูุฏ ุงูุฎุงุฏู...
cd /d "%~dp0backend"

echo ๐ ุงูุชุญูู ูู ูุฌูุฏ Node.js...
node --version >nul 2>&1
if %errorlevel% neq 0 (
    echo โ ุฎุทุฃ: Node.js ุบูุฑ ูุซุจุช ุนูู ุงููุธุงู
    echo ๐ฅ ูุฑุฌู ุชุญููู ูุชุซุจูุช Node.js ูู: https://nodejs.org
    pause
    exit /b 1
)

echo ๐ฆ ุงูุชุญูู ูู ูุฌูุฏ npm...
npm --version >nul 2>&1
if %errorlevel% neq 0 (
    echo โ ุฎุทุฃ: npm ุบูุฑ ูุชุงุญ
    pause
    exit /b 1
)

echo ๐ง ุงูุชุญูู ูู ูุฌูุฏ MongoDB...
echo โ๏ธ  ุชุฃูุฏ ูู ุฃู MongoDB ูุนูู ุนูู ุงููุธุงู
echo.

echo ๐ ุจุฏุก ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช...
echo =======================================
echo ๐ ุณูุชู ุฅูุดุงุก ุงูุจูุงูุงุช ุงูุชุงููุฉ:
echo    ๐ ุญุณุงุจ ุงูุงุฏูู (admin / admin123)
echo    ๐ฅ 15 ูุณุชุฎุฏู
echo    ๐จโโ๏ธ 25 ุทุจูุจ
echo    ๐ฅ 100 ูุฑูุถ
echo    ๐ 200 ููุนุฏ
echo    ๐ 150 ุณุฌู ุทุจู
echo    ๐ฐ 180 ูุงุชูุฑุฉ
echo =======================================
echo.

set /p confirm=ูู ุชุฑูุฏ ุงููุชุงุจุนุฉุ (Y/N): 
if /i "%confirm%" neq "Y" (
    echo โ ุชู ุฅูุบุงุก ุงูุนูููุฉ
    pause
    exit /b 0
)

echo.
echo ๐โโ๏ธ ุชุดุบูู ุณูุฑูุจุช ุงูุฅุนุฏุงุฏ...
echo.

node scripts/setup-complete-database.js

echo.
echo ========================================
echo โ ุชู ุงูุงูุชูุงุก ูู ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
echo ========================================
echo.
echo ๐ก ุชุนูููุงุช ุงูุงุณุชุฎุฏุงู:
echo    1. ุชุดุบูู ุงูุฎุงุฏู: npm run dev
echo    2. ูุชุญ ุงููุชุตูุญ ูุงูุฐูุงุจ ูููููุน
echo    3. ุชุณุฌูู ุงูุฏุฎูู ุจุงุณุชุฎุฏุงู:
echo       ๐ค ุงุณู ุงููุณุชุฎุฏู: admin
echo       ๐ ูููุฉ ุงููุฑูุฑ: admin123
echo.
echo ๐๏ธ ุงุณู ูุงุนุฏุฉ ุงูุจูุงูุงุช: hospital_management_system_demo
echo ๐ ุนููุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช: mongodb://localhost:27017/hospital_management_system_demo
echo.
pause 