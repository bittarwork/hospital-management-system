# 🏥 مستشفى المشروع الأول الطبي

## 🚀 التشغيل الأولي للمشروع وتعبئة البيانات التجريبية

مرحباً بك في نظام إدارة مستشفى المشروع الأول الطبي! هذا الدليل سيساعدك على إعداد المشروع وتشغيله مع بيانات تجريبية ضخمة للاختبار.

---

## 📋 المتطلبات الأساسية

قبل البدء، تأكد من توفر المتطلبات التالية:

### 1. Node.js & npm

```bash
# تحقق من وجود Node.js
node --version  # يجب أن يكون v14 أو أحدث

# تحقق من وجود npm
npm --version
```

### 2. MongoDB

```bash
# تثبيت MongoDB (Ubuntu/Debian)
sudo apt update
sudo apt install mongodb

# تثبيت MongoDB (macOS)
brew install mongodb/brew/mongodb-community

# تشغيل MongoDB
sudo systemctl start mongod
# أو
mongod
```

### 3. Git (اختياري)

```bash
git --version
```

---

## ⚙️ الإعداد الأولي

### الخطوة 1: إعداد البيئة والملفات

```bash
# الانتقال إلى مجلد Backend
cd backend

# تشغيل سكريپت الإعداد
node scripts/setupProject.js
```

### الخطوة 2: إنشاء البيانات التجريبية الضخمة

```bash
# تشغيل منشئ البيانات التجريبية
node scripts/runMassiveSeeder.js
```

⚠️ **تنبيه:** هذه العملية قد تستغرق 3-5 دقائق وستمحو جميع البيانات الموجودة في قاعدة البيانات.

---

## 🚀 تشغيل النظام

### الطريقة الأولى: التشغيل التلقائي (الأسهل)

```bash
# من المجلد الجذر للمشروع
./تشغيل_النظام.sh
```

### الطريقة الثانية: التشغيل اليدوي

#### تشغيل Backend:

```bash
cd backend
npm run dev
```

#### تشغيل Frontend (في terminal جديد):

```bash
cd frontend
npm run dev
```

---

## 🌐 الوصول للنظام

بعد التشغيل الناجح:

- **🎨 Frontend:** http://localhost:3000
- **📡 Backend API:** http://localhost:5000
- **🗄️ قاعدة البيانات:** PRoneHos

---

## 🔐 بيانات تسجيل الدخول

### حساب مدير النظام:

- **البريد الإلكتروني:** `admin@first-medical-project.com`
- **كلمة المرور:** `Admin@123456`
- **الدور:** `super_admin`
- **الصلاحيات:** كاملة على جميع أجزاء النظام

---

## 📊 البيانات التجريبية المتوفرة

تم إنشاء البيانات التالية للاختبار:

### 👥 المستخدمين (26 مستخدم)

- **1 مدير نظام** (super_admin)
- **25 مستخدم** بأدوار مختلفة:
  - مديرون (admin)
  - أطباء (doctor)
  - ممرضون (nurse)
  - موظفو الاستقبال (receptionist)
  - صيادلة (pharmacist)
  - فنيو مختبر (lab_technician)

### 👨‍⚕️ الأطباء (50 طبيب)

- **18 تخصص طبي** مختلف
- **ساعات عمل** محددة لكل طبيب
- **رسوم استشارة** متنوعة
- **تقييمات ومراجعات** وهمية
- **سنوات خبرة** متفاوتة (2-27 سنة)

### 🏥 المرضى (500 مريض)

- **بيانات شخصية** كاملة باللغة العربية
- **معلومات طبية** شاملة:
  - فصائل الدم
  - الحساسيات
  - الأمراض المزمنة
  - التاريخ الجراحي
  - الأدوية الحالية
- **معلومات التأمين** الطبي
- **جهات اتصال الطوارئ**

### 📅 المواعيد (1000 موعد)

- **حالات متنوعة:** مجدول، مؤكد، مكتمل، ملغي
- **أنواع مختلفة:** استشارة، متابعة، طوارئ
- **مواعيد على مدار السنة** (2024)
- **أولويات متفاوتة:** منخفضة، متوسطة، عالية، عاجلة

### 💼 ميزات إضافية

- **مدن سعودية** حقيقية للعناوين
- **أرقام هواتف** بصيغ صحيحة
- **بريد إلكتروني** مُولد تلقائياً
- **أرقام هوية** وهمية بصيغة صحيحة

---

## 🛠️ إعادة تعيين البيانات

لإعادة إنشاء البيانات التجريبية من جديد:

```bash
cd backend
node scripts/runMassiveSeeder.js
```

---

## ⚙️ تخصيص الإعدادات

يمكن تعديل الإعدادات في ملف `backend/.env`:

```env
# أعداد البيانات التجريبية
TOTAL_PATIENTS=500          # عدد المرضى
TOTAL_DOCTORS=50           # عدد الأطباء
TOTAL_APPOINTMENTS=1000    # عدد المواعيد
TOTAL_MEDICAL_RECORDS=800  # عدد السجلات الطبية
TOTAL_INVOICES=1200       # عدد الفواتير

# بيانات مدير النظام
ADMIN_EMAIL=admin@first-medical-project.com
ADMIN_PASSWORD=Admin@123456
ADMIN_NAME=مدير النظام

# معلومات المستشفى
HOSPITAL_NAME=مستشفى المشروع الأول الطبي
HOSPITAL_ADDRESS=الرياض، المملكة العربية السعودية
HOSPITAL_PHONE=+966-11-9876543
HOSPITAL_EMAIL=info@first-medical-project.com
```

---

## 🐛 استكشاف الأخطاء

### مشكلة: فشل الاتصال بقاعدة البيانات

```bash
# تأكد من تشغيل MongoDB
sudo systemctl status mongod

# إذا لم يكن يعمل
sudo systemctl start mongod
```

### مشكلة: خطأ في تثبيت التبعيات

```bash
# مسح node_modules وإعادة التثبيت
rm -rf node_modules package-lock.json
npm install
```

### مشكلة: المنافذ مستخدمة

```bash
# قتل العمليات على المنافذ
sudo lsof -ti:3000 | xargs kill -9  # Frontend
sudo lsof -ti:5000 | xargs kill -9  # Backend
```

---

## 📝 الملاحظات المهمة

1. **قاعدة البيانات:** يستخدم النظام قاعدة بيانات MongoDB باسم `PRoneHos`
2. **البيانات التجريبية:** جميع البيانات وهمية ومخصصة للاختبار فقط
3. **الأمان:** كلمات المرور المبدئية بسيطة، يجب تغييرها في الإنتاج
4. **الشبكة:** النظام مصمم للعمل محلياً (localhost)

---

## 🔗 روابط مفيدة

- **Frontend:** http://localhost:3000
- **Backend API:** http://localhost:5000
- **API Documentation:** http://localhost:5000/api-docs (إذا متوفر)

---

## 📞 الدعم الفني

للمساعدة أو الاستفسارات:

- راجع ملفات التوثيق في مجلد `docs/`
- تحقق من ملفات `README.md` في كل مجلد
- ابحث في كود المصدر للتفاصيل التقنية

---

## 🎉 مبروك!

تم إعداد نظام مستشفى المشروع الأول الطبي بنجاح مع بيانات تجريبية ضخمة جاهزة للاختبار والتطوير!

**استمتع بتجربة النظام واستكشاف جميع الميزات المتاحة.**

---

_مستشفى المشروع الأول الطبي - نظام إدارة طبية متطور_ 🏥✨
